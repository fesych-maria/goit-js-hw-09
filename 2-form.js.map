{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n  email: '',\n  message: '',\n};\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nconst STORAGE_KEY = 'feedback-form-state';\nrefs.form.addEventListener('input', saveData);\n\nfunction saveData(e) {\n  formData.email = e.currentTarget.querySelector('[name=\"email\"]').value;\n  formData.message = e.currentTarget.querySelector('[name=\"message\"]').value;\n  saveToLs(STORAGE_KEY, formData);\n}\n\nfunction initPage() {\n  const dataFromLs = getFromLs(STORAGE_KEY);\n  formData.email = dataFromLs?.email || '';\n  formData.message = dataFromLs?.message || '';\n  refs.form.querySelector('[name=\"email\"]').value = formData.email;\n  refs.form.querySelector('[name=\"message\"]').value = formData.message;\n}\ninitPage();\n\nrefs.form.addEventListener('submit', onSubmit);\nfunction onSubmit(e) {\n  e.preventDefault();\n  if (formData.email.trim() === '' || formData.message.trim() === '') {\n    alert('Fill please all fields');\n  } else {\n    formData.message = formData.message.trim();\n    console.log(formData);\n    localStorage.removeItem(STORAGE_KEY);\n    formData.email = '';\n    formData.message = '';\n    refs.form.reset();\n  }\n}\n\nfunction saveToLs(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction getFromLs(value) {\n  const data = localStorage.getItem(value);\n  try {\n    const parsedData = JSON.parse(data);\n    return parsedData;\n  } catch {\n    return data;\n  }\n}\n\nrefs.form.addEventListener('');\n"],"names":["formData","refs","STORAGE_KEY","saveData","saveToLs","initPage","dataFromLs","getFromLs","onSubmit","key","value","data"],"mappings":"wFAAA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEMC,EAAc,sBACpBD,EAAK,KAAK,iBAAiB,QAASE,CAAQ,EAE5C,SAASA,EAAS,EAAG,CACnBH,EAAS,MAAQ,EAAE,cAAc,cAAc,gBAAgB,EAAE,MACjEA,EAAS,QAAU,EAAE,cAAc,cAAc,kBAAkB,EAAE,MACrEI,EAASF,EAAaF,CAAQ,CAChC,CAEA,SAASK,GAAW,CAClB,MAAMC,EAAaC,EAAUL,CAAW,EACxCF,EAAS,OAAQM,GAAA,YAAAA,EAAY,QAAS,GACtCN,EAAS,SAAUM,GAAA,YAAAA,EAAY,UAAW,GAC1CL,EAAK,KAAK,cAAc,gBAAgB,EAAE,MAAQD,EAAS,MAC3DC,EAAK,KAAK,cAAc,kBAAkB,EAAE,MAAQD,EAAS,OAC/D,CACAK,IAEAJ,EAAK,KAAK,iBAAiB,SAAUO,CAAQ,EAC7C,SAASA,EAAS,EAAG,CACnB,EAAE,eAAc,EACZR,EAAS,MAAM,SAAW,IAAMA,EAAS,QAAQ,KAAM,IAAK,GAC9D,MAAM,wBAAwB,GAE9BA,EAAS,QAAUA,EAAS,QAAQ,KAAI,EACxC,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWE,CAAW,EACnCF,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBC,EAAK,KAAK,QAEd,CAEA,SAASG,EAASK,EAAKC,EAAO,CAC5B,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CACjD,CAEA,SAASH,EAAUG,EAAO,CACxB,MAAMC,EAAO,aAAa,QAAQD,CAAK,EACvC,GAAI,CAEF,OADmB,KAAK,MAAMC,CAAI,CAEtC,MAAU,CACN,OAAOA,CACR,CACH,CAEAV,EAAK,KAAK,iBAAiB,EAAE"}